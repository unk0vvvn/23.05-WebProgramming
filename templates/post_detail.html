{% extends "layout.html" %}
{% block content %}
<section class="my-3 text-center">
    <h2 class = "border-bottom py-2">{{post.title}}</h2>
	<div class="card my-3">
		<div class="card-body">
			<div class="card-text">{{post.content}}</div>
			
			<div class="d-flex justify-content-end">
				<!-- <div th:if="${question.modifyDate != null}" class="badge bg-light text-dark p-2 text-start mx-3">
		              <div class="mb-2">modified at</div>
		              <div th:text="${temporals.format(question.modifyDate, 'yyyy-MM-dd HH:mm')}"></div>
		    	</div> -->
			
				<div class="badge bg-light text-dark p-2 text-start">
					<div class="mb-2">
					<span>{{post.author}}</span>
					</div>
					<div>{{post.create_date}}</div>
				</div>
			</div>
			
			<div class="my-3">
				<!-- <a href="javascript:void(0);" class="recommend btn btn-sm btn-outline-secondary" 
				th:data-uri="@{|/question/vote/${question.id}|}">
				추천
					<span class="badge rounded-pill bg-success" th:text="${question.voterCount}"></span>
				</a> -->
			
                {% if post.author == session['nickname'] %}
				<a href="{{url_for('post_modify', id=post._id)}}" class="btn btn-sm btn-outline-secondary">수정</a>
				
				<a href="{{url_for('post_delete', id=post._id)}}" class="delete btn btn-sm btn-outline-secondary">삭제</a>
                {% endif %}
			</div>
			
			<!-- 질문 댓글 시작
			<div class="mt-3" th:if="${not  lists.isEmpty(question.comments)}">
				<div th:each="comment, index : ${question.comments}" class="comment py-2 text-muted">
					<span style="white-space: pre-line;" th:text="${comment.content}"></span>
					
					<span th:if="${comment.modifyDate == null}" 
						th:text="| - ${comment.author.username}, ${temporals.format(comment.createDate,'yyyy-MM-dd HH:mm')}|"></span>
					
					<span th:if="${comment.modifyDate != null}" 
						th:text="| - ${comment.author.username}, 수정: ${temporals.format(comment.modifyDate,'yyyy-MM-dd HH:mm')}|"></span>
				
					<a sec:authorize="isAuthenticated()"
						th:if="${ authentication.getPrincipal.getUsername() == comment.author.username}"
						th:href="@{|/comment/modify/${comment.id}|}"
						class="small">수정</a>
						
					<a sec:authorize="isAuthenticated()"
						th:if="${ authentication.getPrincipal.getUsername() == comment.author.username}"
						href="javascript:void(0);"
						th:data-uri="@{|/comment/delete/${comment.id}|}"
						class="small delete">삭제
					</a>
				</div>
			</div>
			
			<div>
				<a th:href="@{|/comment/create/question/${question.id}|}" class="small"><small>댓글 달기</small></a>
			</div> -->
			<!-- 질문 댓글 종료 -->
			
		</div>
	</div>
</section>
{% endblock %}